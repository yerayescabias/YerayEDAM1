--CREATE DATABASE GOIZBURU_ASSOCIATION;--
-- STAFF TABLE --
DROP TABLE STAFF CASCADE CONSTRAINTS;
-- PATIENT TABLE --
DROP TABLE PATIENTS  CASCADE CONSTRAINTS;
-- CONSULTATION TABLE --
DROP TABLE CONSULTATION  CASCADE CONSTRAINTS;
-- lectures TABLE --
DROP TABLE LECTURES CASCADE CONSTRAINTS;
-- ROOMS TABLE --
DROP TABLE ROOMS CASCADE CONSTRAINTS;
-- Creating the STAFF table --
CREATE TABLE STAFF(
    ID_STAFF VARCHAR2(50) PRIMARY KEY,
    ST_NAME VARCHAR2(100) NOT NULL,
    ST_SURNAME VARCHAR2(100) NOT NULL,
    ST_GMAIL VARCHAR2(100) NOT NULL,
    ST_TYPE VARCHAR2(50) NOT NULL
);

-- Inserting data into the STAFF table --
INSERT INTO STAFF VALUES('1234567890A', 'María', 'García', 'marigar@gmail.com', 'Psychologist');
INSERT INTO STAFF VALUES('1369674136B', 'Mauricio', 'Temur', 'maurict17@gmail.com', 'Social Care');
INSERT INTO STAFF VALUES('2345678901F', 'Carlos', 'Rodríguez', 'carl145@gmail.com', 'Administrative');
INSERT INTO STAFF VALUES('3210987654D', 'Laura', 'Martínez', 'lamtinez@gmail.com', 'Others');
COMMIT;

-- Creating the PATIENTS table --
CREATE TABLE PATIENTS(
    PATIENT_ID VARCHAR2(235) PRIMARY KEY,
    PA_NAME VARCHAR2(235) NOT NULL,
    PA_SURNAME VARCHAR2(235) NOT NULL,
    PA_TELEPHONE NUMBER(30) NOT NULL,
    PA_ADDRESS VARCHAR2(235) NOT NULL,
    PA_DISEASE VARCHAR2(235) NOT NULL,
    PA_TYPE VARCHAR2(235) NOT NULL,
    ID_STAFF VARCHAR2(50) NOT NULL,
    FOREIGN KEY (ID_STAFF) REFERENCES STAFF(ID_STAFF)
);

-- Inserting data into the PATIENTS table --
INSERT INTO PATIENTS VALUES('12121212P', 'Iker', 'Etxebarria', 689746513, 'Abadiño', 'Amyotrophic Lateral Sclerosis', 'Patient', '1369674136B');
INSERT INTO PATIENTS VALUES('12121214L', 'Ainhoa', 'Iturriaga', 625148746, 'Zornotza', 'Healthy', 'Familiar', '1234567890A');
INSERT INTO PATIENTS VALUES('12345678A', 'Mikel', 'Gonzalez', 610230265, 'Zornotza', 'Alzheimer', 'Patient', '2345678901F');
INSERT INTO PATIENTS VALUES('13548445P', 'Maite', 'Zubizarreta', 613548656, 'Atxondo', 'Healthy',' Familiar', '3210987654D');
COMMIT;
-- Creating the CONSULTATION table --
CREATE TABLE CONSULTATION(
    ID_CONSULTATION VARCHAR2(235) PRIMARY KEY,
    PATIENT_ID VARCHAR2(235),
    ID_STAFF VARCHAR2(50),
    CON_DATE DATE,
    CON_TIME TIMESTAMP,
    CON_SOLUTION VARCHAR2(235),
    CON_PROBLEM VARCHAR2(235),
    FOREIGN KEY (ID_STAFF) REFERENCES STAFF(ID_STAFF),
    FOREIGN KEY (PATIENT_ID) REFERENCES PATIENTS(PATIENT_ID)
);
INSERT INTO CONSULTATION VALUES('1000', '12121212P', '1234567890A',TO_DATE('01/03/2024', 'DD/MM/YYYY'), TO_TIMESTAMP('9:30:00', 'HH24:MI:SS'),'Mentally disorder','	Exercise to practise and front facing these issue' );
INSERT INTO CONSULTATION VALUES('1001', '12121214L', '1369674136B', TO_DATE('01/03/2024', 'DD/MM/YYYY'), TO_TIMESTAMP('12:00:00', 'HH24:MI:SS'),'Ansiety attacks','	Lorazepan');
INSERT INTO CONSULTATION VALUES('1002', '12345678A', '2345678901F', TO_DATE('01/03/2024', 'DD/MM/YYYY'), TO_TIMESTAMP('13:00:00', 'HH24:MI:SS'), 'Depresion','Amoxapina');
INSERT INTO CONSULTATION VALUES('1003', '13548445P', '3210987654D', TO_DATE('01/03/2024', 'DD/MM/YYYY'), TO_TIMESTAMP('15:00:00', 'HH24:MI:SS'),' Depresion','	Desipramina');
COMMIT;
-- Creating the LECTURES table --
CREATE TABLE LECTURES(
    ID_LECTURES VARCHAR2(235) PRIMARY KEY,
    STAFF_ID VARCHAR2(50),
    LEC_DATE DATE,
    LEC_TIME TIMESTAMP,
    LEC_ROOM INT,
    TITLE VARCHAR2(235),
    FOREIGN KEY (STAFF_ID) REFERENCES STAFF(ID_STAFF)
);

-- Inserting data into the LECTURES table --
INSERT INTO LECTURES VALUES('112A', '1369674136B', TO_DATE('01/03/2024', 'DD/MM/YYYY'), TO_TIMESTAMP('12:00:00', 'HH24:MI:SS'), 120, 'Psychosocial Impact of Neurodegenerative Diseases');
INSERT INTO LECTURES VALUES('113B', '1234567890A', TO_DATE('01/03/2024', 'DD/MM/YYYY'), TO_TIMESTAMP('17:00:00', 'HH24:MI:SS'), 220, 'Coping Strategies for Patients and Families');
INSERT INTO LECTURES VALUES('114C', '2345678901F', TO_DATE('03/03/2024', 'DD/MM/YYYY'), TO_TIMESTAMP('10:00:00', 'HH24:MI:SS'), 230, 'Cognitive-Behavioral Therapy in Neurodegenerative Diseases');
INSERT INTO LECTURES VALUES('115D', '1234567890A', TO_DATE('03/03/2024', 'DD/MM/YYYY'), TO_TIMESTAMP('10:00:00', 'HH24:MI:SS'), 100, 'Psychological Support Programs for Patients and Families');
COMMIT;
-- Creating the ROOMS table --
CREATE TABLE ROOMS(
    ROOM_NUM INT PRIMARY KEY,
    ID_STAFF VARCHAR2(50),
    FOREIGN KEY (ID_STAFF) REFERENCES STAFF(ID_STAFF)
);

-- Inserting data into the ROOMS table --
INSERT INTO ROOMS VALUES(100, '1234567890A');
INSERT INTO ROOMS VALUES(110, '3210987654D');
INSERT INTO ROOMS VALUES(120, '1369674136B');
INSERT INTO ROOMS VALUES(130, '2345678901F');
COMMIT;